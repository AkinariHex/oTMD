<!DOCTYPE html>
<html class="settings" lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>osu! Tourney Match Displayer</title>
		<link rel="stylesheet" type="text/css" href="/assets/semantic.min.css">
		<script
			src="https://code.jquery.com/jquery-3.1.1.min.js"
			integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			crossorigin="anonymous">
		</script>
		<script src="/assets/semantic.min.js"></script>
		<script src="/assets/clipboard.min.js"></script>
		<script src="https://unpkg.com/@popperjs/core@2"></script>
		<script src="https://unpkg.com/tippy.js@6"></script>
		<script src="https://unpkg.com/boxicons@latest/dist/boxicons.js"></script>
		<link rel="stylesheet" href="/assets/style.css" />
	</head>
	<body>

		<div class="headerappbar">
			<div class="ui secondary  menu">
				<a class="item" id="applicationName">
					osu! Tourney Match Displayer
				  </a>
				<div class="right menu" id="applicationButtons">
					<button class="ui icon button headerappbarbutton" id="minimizebutton">
						<svg viewBox="-12 -12 48 48" width="22" height="22" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M0 12v1h23v-1h-23z"/></svg>
					</button>
					<button class="ui icon button headerappbarbutton" id="maximizebutton">
						<svg viewBox="-12 -12 48 48" width="22" height="22" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M24 23h-24v-22h24v22zm-23-16v15h22v-15h-22zm22-1v-4h-22v4h22z"/></svg>
					</button>
					<button class="ui icon button headerappbarbutton closewinbutton" id="closewinbutton">
						<svg viewBox="-12 -12 48 48" width="22" height="22" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 11.293l10.293-10.293.707.707-10.293 10.293 10.293 10.293-.707.707-10.293-10.293-10.293 10.293-.707-.707 10.293-10.293-10.293-10.293.707-.707 10.293 10.293z"/></svg>
					</button>
				</div>
			  </div>
		</div>

		<div class="loadingapp">
			<div class="ui inverted segment">
				<div class="ui active large inverted loader"></div>
				<br>
				<br>
				<br>
				<br>
			</div>
		</div>

		<div class="firstrun hidden">
			<div class="header">
				Welcome to o!TMD
				<div class="text">
					This is your first run on the app, please complete the fields with your APIkey and your userID to continue!
				</div>
			</div>
			<div class="content">
				<div class="ui input">
				  	<input type="text" placeholder="APIkey" id="credAPIKEY">
					<label><a href="https://osu.ppy.sh/p/api" target="_blank">Where can I find the APIkey?</a></label>
				</div>
				<div class="ui input">
					<input type="text" placeholder="UserID" id="credUID">
				</div>
				<button class="ui button" id="credentialsbtn">
				  Continue
				</button>
			  </div>
		</div>

		<div class="leftverticalmenu">  
			<div class="ui secondary vertical pointing menu" >
				<a class="item active" id="match_button" data-tab="match">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" style="fill: #aaa;" viewBox="0 0 72 72">
							<image id="Ellipse_1" data-name="Ellipse 1" x="4" y="4" width="65" height="65" style="fill: #aaa;" xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAACzUlEQVRYhcWYy29NURTGfz2DhkvaiQ4ojdtWZx7xSnTgGSYGEhrpkAFKGuofqPgPUCFhwLBeA4+RR7QGJIR6japUqhhUbkLSkk7Iar7dbNvtvef03nt8yck+e+fs9X1nn7XWXvtU5XI5YqIKWA9sU7sMWABkgAngG/AOeAo8UPs7ju04IozkINAJNMVVDLwHzgIXJHLWInYDp4HFwfhH4BXwFfgO1AILgZXA0uDZUaALuJFUxBzgHLA/MHYe6AU+FBDeCLQDHcASb/wycBj4FUeEvdVNYJP69qYnJGCyAHmIapGelE1DP7BLNmcUYd//DrBF/RdAGzCcgDxEFrgOrNZ4H7DT95MomNDjCejTapQiAM03Ow/V3yyHnYa/Enuk2PAc2FjMqxPCVvkRsEbT2pyzOhFzFeP1wA9gVRlWIB/s07wEaoDPQIu9qPschyTA0F0hAchut+7rlX+mVsIy4ZBC6xPQnDAKksKiZkjha6HeHCkFN8pQ0jCcDSbFg3hbI+0FDr0VFpCPZ4eJWKfOcAV9IYTPtSGShxrepCTA4a3alkjbMQqZNDEqrrpISYQwn6cAx5eJvKxYm7IIxzeVrKwiwktWacHxjUVK14blKYtwfIMm4pk6WV1pwOd6YiLue6TtKYnwee6Ge8eIquhK7x3mAg1KWE2RyvIePdCg2rCS6BCP4Yzxu3rCcsXg/64nLFcc0709cNVLYuVCRnZrZK/L5Si/xrRS65Lu1wK3gfllEmB2bsku4nGl5D+FbqfKcsNW3ZcatlnZcSVDv3imEYqY0LnACbEyfQA4Kq9OgmrNG/DKfXfu+KuALnQCs+pnnzc2orErRZzW3nwvcMSLAnQCs7Gf4YRiZ1Ery0/l2VdMxGvgi6LJnG0RsCLP57MoOA5cm4kkzql8HnCghFP5RWC80INJ/0+0AtvVWozXef8nxpRrHgP31Bb/PwH8AVLgv5UFJt+gAAAAAElFTkSuQmCC"/>
							<image id="VS" x="19" y="24" width="36" height="25" style="fill: #aaa;" xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAANCAYAAACkTj4ZAAABNElEQVQokaWTwU0CYRCFPwhXo0wJtIDxbrKWACXYApQAdoBnb1sCJl49sPHgVbeEt8YKzOBb82dDoolzWeafmffevAlIupP0Kemaf8QYOAfOgKshjKSppNVf4CfAM3ALVMB2UN8Dc0kt0AAbYObf+fYYEU0P9OKh2UDNLkE8dMihomde9CXgw8jJu5suk8HrJHsH3HhwZ9Ct88ozU+B1YuDGj1X6YpCMtYEr521E1EBdKMraW6+oV1CbKcG2EbF2feb1plbZeNX7iMicUYG6LyyqI2I58CwPshp42dmOdlQ0yoyti92pM0vq/cnvoicdFz2NGZYliKSFpIOkjVV1EZGG9z4dFfZmExF5nVORjclenjxJU31GevXt0W9hJT3YD6BBjhv8CWjg0QWQ/8uPiHg6PgJfUbuL8u6zyQQAAAAASUVORK5CYII="/>
						  </svg>					  
						<span class="item_text">
							Match
						</span>
				</a>
				<a class="item" id="displayer_settings_button" data-tab="displayer-settings">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" style="fill: #aaa;" viewBox="0 0 72 72">
							<image id="Ellipse_1" data-name="Ellipse 1" x="4" y="4" width="65" height="65" style="fill: #aaa;" xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAACzklEQVRYhcWYy29NURjFfz2DG0raiQ6oNm5bnXkEITrwDBMDCY10yADVNNQ/UPEfoELCgGG9Bh4jgl4DQkK9RlWPVDGo3IRESSfka9Zutu323nPae481OXfve8631tl7f99e+1Tl83liogpYC2wB1gEtwAKgGhgHvgLDwGPgHvAE+B0ndhwRRnIA6Aaa4yoG3gKngXMSOWMRu4CTwOKg/wPwAvgCfANqgYXACmBJcO8o0ANcSypiDnAG2BcEOwv0A++KCG8COoBOoMHrvwgcAn7FEWFvdR3YqLa96TEJmChCHiIj0uOKacgBOxVzWhE2/7eAzWo/A9qB9wnIQ2SBq8Aq9Q8AO/x1EgUP9HkCBjQasxGAnrc499XepAU7BX8kdkux4SmwodSqTggb5QfAaj3W7harEzEXeAPUA9+BlWUYgUKwqXkO1ACfgFZ7UTcdByXA0FshAShur37Xq/5MjoRVwmGl1kdVwiRZkBQZVdYGpXpLpFLcpEBJ03AmmBAP4m2LtBc49FdYQCGe7W4k0HxVai2E8LnWR1qhhlcpCXB4rWtrpO0YpUyaGBVXXaQaQVjPU4DjqzYRP9WoTVmE45ssVuaI8IpVWnB8Y5HKtWFZyiIc31AkL4jqejYlAT7XIxNx1/uzIyURPs/tcO8YAZamsHfYEmhUwWqOZMv7dEOjvGEl0Skewynjd37CDMfQ//YT5qCO6LfdcFnCyolqxa1RzB7n3HyPaVbrgn6vAW4C88skwuLcUFzE46zkP0a3W7YcbfG5MqRtVnG2qp0TzxRCEeM6FzghZtMHgcNa1UmQ0XODnt13546/DHSxE5i5n71e34j6LpVYtPbme4AuLwvQCazL26tKinAwW36iwL5iIl4Cn5VNttgWAcsLTJ9lwVHgynQkcU7l84D9sziVnwd+FLsx6feJNmCbrpbjdd73iTHVmofAHV1Lf58A/gBRNb+VvfBaAwAAAABJRU5ErkJggg=="/>
							<image id="Ellipse_1_copy" data-name="Ellipse 1 copy" x="11" y="11" width="51" style="fill: #aaa;" height="51" xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAACa0lEQVRIibXWW6iNaRgH8N9e26GRhAvHkEMomjIXXEkNkjAlYlIulKJcGWJKDIlhFMoNN+4QpQi5UMK1O9Q45tBMTrM3k0Pbjq0nz1fLstbC3mv/b77ve9/3ef7f8z7HppaWFl9BX/yC6ZiCkShhHY6kaC804209VaU6e4OwD09T6WpMw1AMxtI8NwD38B8OpFxV1LJsCQ6mogIduI1beI7d+BuTcL3s3AuswdFKpZVkTdiTV1TgLvbjRFpZDcuxFWPK9v7C7/mTVcl+xbF8f48/Uqi9znUXCL9tTJnmXNuC7cWBSp+9zD+J5wLs+EaiwLtUHHL/59o2LKplWWBiOvvZN5JUwzycTgtfpM4nhWWT8wpL6fSuEAXOpVWB/thcWNYP/2Q+/Zbh3gj8gJsYkfnXNyyZm0SB1w0ikgRr05eX8KEHZuZmBMapBpIFTiJurk36aFJu3KmTR11BWyFbKkvER91AFJiF+9gZZH1ysasRWAsrMAqrguxNHurXTWRD8tleShMDo7uJbEQ+HwbZjfyYUK89dBKhb1yKXg2yy/kRFX9hg8kWp97AlSA7W+a3wQ0k6pkVKfAKZyKpWzEHP+FQA8nWY2y+H47qVK3qD8tS09oFop9xPnvc86KTVPazqRmdUU1mdJIoCvDxJOrIESFa1hfNc1je9UBcyLbe8zvJmso69e4cJz5tVJlBdmFD2dqdshmkWpUZlaNehPifeJxr4a+LnymvMV0ty7FsYNlaMV39m6S9MT79UWBvxbD0ucl1htRIg01YmX74GiJ9otuf6QxZgaiZ8zEbP2J4kkfEPsC1SNgkqR3B+AhRpZbRzaZaagAAAABJRU5ErkJggg=="/>
						</svg>
						<span class="item_text">
							Displayer Settings
						</span>
				</a>
				<!-- <a class="item" id="teams_button" data-tab="teams-tab">
						<box-icon name='group' color='#aaa' ></box-icon>
 						<span class="item_text">
							Teams
						</span>
				</a> -->
				<a class="item" id="app_settings_button" data-tab="app-settings">
<!-- 						<svg width="25" height="25" style="fill: #aaa; margin-left: 1px" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
 -->					<box-icon id="cog" name='cog' color="#aaa"></box-icon>
 						<span class="item_text">
							App Settings
						</span>
				</a>
				<a class="item" id="changelog_button" data-tab="changelog" style="position: absolute; bottom: 25px; width: 94%; border-right: 0px; margin: auto; fill: #aaa">
<!-- 					<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path d="M11.362 2c4.156 0 2.638 6 2.638 6s6-1.65 6 2.457v11.543h-16v-20h7.362zm.827-2h-10.189v24h20v-14.386c0-2.391-6.648-9.614-9.811-9.614zm4.811 13h-10v-1h10v1zm0 2h-10v1h10v-1zm0 3h-10v1h10v-1z"/></svg>
 -->				<box-icon name='file' type='solid' ></box-icon>
 					<span class="item_text">
						Changelog
					</span>
				</a>
				<a class="item" id="update_button" data-tab="update" style="position: absolute; bottom: 74px; width: 94%; border-right: 0px; margin: auto; fill: #aaa">
<!-- 					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 11h5l-9 10-9-10h5v-11h8v11zm1 11h-10v2h10v-2z"/></svg>
 -->				<box-icon type='solid' name='download'></box-icon>
 					<span class="item_text">
						<span id="update_status">Updated</span>
						<div class="update_info">
							<span id="download_speed"></span>
							&nbsp;|&nbsp;
							<span id="download_percent"></span>
						</div>
					</span>
					<div class="ui tiny progress" data-percent="0" id="update_bar" >
						<div class="bar"></div>
					</div>
				</a>
			</div>
			<div class="appInfo">
				<div class="appVersion"></div>
				<div class="copyright">Â© 2022 Akinari</div>
			</div>
		</div>

		<div class="ui equal width form">
			
			<div class="leftmaintab ui active vertical tab segment" id="match_tab" data-tab="match">
				<div class="fields">
					<div class="required field">
					  <label>APIkey</label>
					  <input type="text" name="apikey" id="apikey" placeholder="APIkey"/>
					  <input type="text" name="apikeyStreamer" id="apikeyStreamer" placeholder="Streamer Mode" style="display:none" disabled/>
					</div>
					<div class="field">
					  <label>UserID</label>
					  <input type="text" name="userid" id="userid" placeholder="UserID"/>
					</div>
				  </div>
				  <h4 class="ui dividing header"></h4>
				  <div class="fields">
					<div class="required field">
					  <label>MatchID</label>
					  <input type="text" name="matchid" id="matchid" placeholder="MatchID" />
					</div>
					<div class="required field">
					  <label>Match Type</label>
					  <div class="ui selection dropdown">
						  <input type="hidden" name="matchtype" id="matchtype">
						  <i class="dropdown icon"></i>
						  <div class="default text">Match Type</div>
						  <div class="menu">
							<div class="item" data-value="h1v1" data-text="1vs1">
							  1vs1
							</div>
							<div class="item" data-value="teamvs" data-text="TeamVS">
							  TeamVS
							</div>
						  </div>
						</div>
					</div>
				  </div>
				  <div class="fields">
					  <div class="required field">
						  <label>Stage</label>
						  <div class="ui selection dropdown">
							  <input type="hidden" name="stage" id="stageName">
							  <i class="dropdown icon"></i>
							  <div class="default text">Stage</div>
							  <div class="menu">
								<div class="item" data-value="Friendly" data-text="Friendly">
								  Friendly
								</div>
								<div class="item" data-value="Qualifiers" data-text="Qualifiers">
								  Qualifiers
								</div>
								<div class="item" data-value="Round of 64" data-text="RO64">
								  RO64
								</div>
								<div class="item" data-value="Round of 32" data-text="RO32">
								  RO32
								</div>
								<div class="item" data-value="Round of 16" data-text="RO16">
								  RO16
								</div>
								<div class="item" data-value="Quarterfinals" data-text="Quarterfinals">
								  Quarterfinals
								</div>
								<div class="item" data-value="Semifinals" data-text="Semifinals">
								  Semifinals
								</div>
								<div class="item" data-value="Finals" data-text="Finals">
								  Finals
								</div>
								<div class="item" data-value="Grand Finals" data-text="Grand Finals">
								  Grand Finals
								</div>
							  </div>
							</div>
						</div>
						<div class="required field" id="bestofDIV">
						  <label>Best of</label>
						  <div class="ui selection dropdown">
							  <input type="hidden" name="bestof" id="bestofDIVinput">
							  <i class="dropdown icon"></i>
							  <div class="default text">Best of</div>
							  <div class="menu">
								<div class="item" data-value="5" data-text="BO5">
								  BO5
								</div>
								<div class="item" data-value="7" data-text="BO7">
								  BO7
								</div>
								<div class="item" data-value="9" data-text="BO9">
								  BO9
								</div>
								<div class="item" data-value="11" data-text="BO11">
								  BO11
								</div>
								<div class="item" data-value="13" data-text="BO13">
								  BO13
								</div>
								<div class="item" data-value="15" data-text="BO15">
								  BO15
								</div>
								<div class="item" data-value="17" data-text="BO17">
								  BO17
								</div>
							  </div>
							</div>
						</div>
						<div class="field" id="nOFmapsDIV" style="display: none;">
						  <label>N. of maps</label>
						  <input type="number" name="mapsNumber" id="mapsNumber" data-value="1" placeholder="N. of maps"/>
						</div>
				  </div>
				  <div class="fields">
					  <div class="field" id="warmupField">
						  <label>Warmups</label>
						  <input type="number" name="warmups" id="warmups" data-value="0" placeholder="Warmups"/>
						</div>
					  <div class="field" id="scoreReverseField">
						  <label>Score Reverse</label>
						  <div class="ui selection dropdown">
							  <input type="hidden" name="reverse">
							  <i class="dropdown icon"></i>
							  <div class="default text">Score Reverse</div>
							  <div class="menu">
								<div class="item" data-value="false" data-text="False">
								  false
								</div>
								<div class="item" data-value="true" data-text="True">
								  true
								</div>
							  </div>
							</div>
						</div>
				  </div>
			</div>

			<div class="leftmaintab ui vertical tab segment" id="displayer-settings_tab" data-tab="displayer-settings">
				<div class="displayerVisualization">
					<div class="container">
						<div class="displayer">
							<div class="width">400px</div>
							<div class="height">130px</div>
						</div>
						<div class="topleft">15px</div>
						<div class="topright">15px</div>
						<div class="bottomright">15px</div>
						<div class="bottomleft">15px</div>
						<div class="teamscolors">
							<div class="team1color">
								<div class="content"></div>
							</div>
							<div class="team1text">Team 1</div>
							<div class="team2color">
								<div class="content"></div>
							</div>
							<div class="team2text">Team 2</div>
						</div>
					</div>
				</div>
			
				<h4 class="ui dividing header"></h4>
				
				<div class="visualizer_settings_fields">
					<label>Visualizer Style</label>
					<div class="required field" style="margin-bottom: 14px !important;">
						<div class="ui selection dropdown">
							<input type="hidden" name="visualizerstyle" id="visualizerstyle">
							<i class="dropdown icon"></i>
							<div class="default text">Style</div>
							<div class="menu">
							  <div class="item" data-value="0px 0px 0px 0px" data-text="Default">
								Default
							  </div>
							  <div class="item" data-value="15px 15px 15px 15px" data-text="Rounded">
								Rounded
							  </div>
							  <div class="item" data-value="15px 15px 0px 0px" data-text="Top-Rounded">
								Top-Rounded
							  </div>
							  <div class="item" data-value="0px 0px 15px 15px" data-text="Bottom-Rounded">
								Bottom-Rounded
							  </div>
							</div>
						  </div>
					</div>
					<label>Small Displayer</label>
					<div class="field">
						<div class="ui toggle checkbox" id="smallDisplayer">
							<input type="checkbox" name="smallDisplayer">
							<label>Enable the small displayer</label>
						</div>
					</div>
					<div class="info_text">Enable the small displayer that have less height.<br>Instead of tournament name will be displayed its acronym if is too long. <b>Small spaces small names ðŸ‘€</b></div>
					<label>Old Colors</label>
					<div class="field">
						<div class="ui toggle checkbox" id="oldColors">
							<input type="checkbox" name="oldColors">
							<label>Enable old colors</label>
						</div>
					</div>
					<div class="info_text">The displayer uses the osu!lazer colors for teams! (First team = <span style="color: rgb(247, 86, 86)">red</span> / Second team = <span style="color: rgb(95, 95, 255)">blue</span>)<br>Enable old colors to revert to osu!stable colors (First team = <span style="color: rgb(95, 95, 255)">blue</span> / Second team = <span style="color: rgb(247, 86, 86)">red</span>)</div>
					<label>Background</label>
					<div class="field">
						<div class="ui toggle checkbox" id="transparentBackground">
							<input type="checkbox" name="transparentBackground">
							<label>Transparent Background</label>
						</div>
					</div>
					<div class="info_text">The displayer will show the info without a background! Make sure to display it on a good contrast background!</div>
				</div>
			</div>

				
			<div class="buttonField">
				<button class="ui submit button" name="save" id="save" type="submit" data-clipboard-text="http://localhost:3000/visualizer">Save</button>
				<button class="ui button" name="loadold" id="loadold" type="button">Load old settings</button>
			</div>

			<div class="leftmaintab ui vertical tab segment" id="teams_tab" data-tab="teams-tab">
				<div id="teamslist" class="ui special cards">
					
				</div>
			</div>
			
			<div class="leftmaintab ui vertical tab segment" id="app-settings_tab" data-tab="app-settings">
				<div class="app_settings_fields">
					<label>User Interface</label>
					<div class="field">
						<div class="ui toggle checkbox" id="compactUI">
							<input type="checkbox" name="compactUI">
							<label>Enable compact UI</label>
						</div>
					</div>
					<label>System Tray</label>
					<div class="field">
						<div class="ui toggle checkbox" id="systemTray">
							<input type="checkbox" name="systemTray">
							<label>Enable minimize to system tray</label>
						</div>
					</div>
				</div>
			</div>


			<div class="ui positive message Invisible" style="width: 180px; margin:auto" id="saveMessage">
				<div class="header">
				  Settings saved!<br>URL copied!</div>
			  </div>

			<div class="leftmaintab ui vertical tab segment" id="changelog_tab" data-tab="changelog">
				<div class="ui inverted segment" id="changelog_load_sign" style="background-color: rgb(32, 31, 32);	position: absolute;	width: 100%; z-index: 20; height: 88vh; top: 100%">
					<div class="ui active large inverted loader"></div>
					<br>
					<br>
					<br>
					<br>
				</div>
				<div class="changelog_content" id="changelog_c_id"></div>
			</div>



		</div>
	</body>

	<!-- Semantic UI and Clipboard.js -->
	<script>

		new ClipboardJS('#save');

		$('#update_bar').progress();
		$('.menu .item').tab();
		$('.ui.selection.dropdown').dropdown();
		$('.ui.equal.width.form').form('set values', {
			matchtype     	: 'teamvs',
			warmups 		: '0',
			reverse 		: 'false',
			visualizerstyle : '0px 0px 0px 0px',
			compactUI		: false,
			systemTray      : true
		});
	</script>

	<!-- On load event -->
	<script>
		window.addEventListener('load', () => {
			document.querySelector('#download_speed').innerHTML = '3MB/s'
			setTimeout(()=>{
				$('.loadingapp').addClass('hidden')
			}, 200)
			fetch('/version').then((res) => res.json()).then((data) => {
				document.querySelector('.appVersion').innerHTML = `v${data.ver}`
			})
			
		
    	})

		$('.menu .item').tab();
	</script>

	<!-- Match type and Stage events -->
	<script>

		$('#matchtype').change(() => {
			let currentMtype = $('#matchtype').val();
			if(currentMtype == 'h1v1'){
				$('#scoreReverseField').css('display', 'none')
			} else {
				$('#scoreReverseField').css('display', 'block')
			}
		})

		$('#stageName').change(() => {
			let currentStage = $('#stageName').val();
			if(currentStage == 'Qualifiers'){
				$('#bestofDIV').css('display', 'none')
				$('#nOFmapsDIV').css('display', 'block')
				$('#warmupField').css('display', 'none')
				$('#scoreReverseField').css('display', 'none')
				$('#bestofDIVinput').val('Qualifiers')
				$('.ui.equal.width.form').form('set values', {
					matchtype     	: 'h1v1'
				})
			} else {
				$('#bestofDIV').css('display', 'block')
				$('#nOFmapsDIV').css('display', 'none')
				$('#warmupField').css('display', 'block')
				$('#scoreReverseField').css('display', 'block')
				if($('#bestofDIVinput').val() == 'Qualifiers'){
					$('#bestofDIVinput').val('')
				}
			}

		})

		document.querySelector('#app_settings_button').addEventListener('click', e => {
			e.preventDefault();
			document.querySelector('.buttonField').style.display = 'none'
		})

		document.querySelector('#displayer_settings_button').addEventListener('click', e => {
			e.preventDefault();
			document.querySelector('.buttonField').style.display = 'none'
		})

		document.querySelector('#match_button').addEventListener('click', e => {
			e.preventDefault();
			document.querySelector('.buttonField').style.display = 'block'
		})

		document.querySelector('#teams_button').addEventListener('click', e => {
			e.preventDefault();
			document.querySelector('.buttonField').style.display = 'none'
		})

	</script>

	<script src="/socketio"></script>
	<script type="module">
/* 
		document.getElementById('openfolderteams').addEventListener('click', e => {
			e.preventDefault();
			socket.emit('open_team_folder')
		}) */

		const socket = io()

		socket.on('obs_active', (status) => {
			if(status === true){
				document.getElementById('apikey').style.display = 'none';
				document.getElementById('apikeyStreamer').style.display = 'block';
			} else {
				document.getElementById('apikey').style.display = 'block';
				document.getElementById('apikeyStreamer').style.display = 'none';
			}
		})

		socket.on('update_downloading', (update) => {
			console.log(update)
			document.querySelector('#update_status').innerHTML = 'Downloading'
			document.querySelector('#download_speed').innerHTML = `${update.speed}MB/s`
			document.querySelector('#download_percent').innerHTML = `${update.percent}%`
			document.querySelector('#update_bar').style.display = 'block'
			document.querySelector('.update_info').style.display = 'block'
			
			$('#update_bar').progress({
					percent: update.percent
			});
		})

		const loadConfig = async () => {
			let res = await fetch('/settings')
			res = await res.json()

			const { apikey, matchid, stage, nofmaps, warmups, bestof, matchtype, userid, reverse, visualizerstyle, oldColors, smallVisualizer, transparentBackground, compactUI, systemTray, firstRun } = res

			if(res != null){
				$('.ui.equal.width.form').form('set values', {
					apikey: apikey,
					/* apikey1: apikey, */
					userid: userid,
					/* userid1: userid, */
					matchid: matchid,
					matchtype: matchtype,
					stage: stage,
					mapsNumber: nofmaps,
					bestof: bestof,
					warmups: warmups,
					reverse: reverse,
					oldColors: oldColors,
					smallDisplayer: smallVisualizer,
					visualizerstyle: visualizerstyle,
					transparentBackground: transparentBackground,
					compactUI: compactUI,
					systemTray: systemTray
				});
			}

			//Edit show visualizer corners
			document.querySelector('.displayerVisualization .container .displayer').style.borderRadius = visualizerstyle
			let splitVisualizer = visualizerstyle.split(' ')
			document.querySelector('.displayerVisualization .container .topleft').innerHTML = `<input class="visualizerInputShow" type="text" value="${splitVisualizer[0]}" readonly>`
			document.querySelector('.displayerVisualization .container .topright').innerHTML = `<input class="visualizerInputShow" type="text" value="${splitVisualizer[1]}" readonly>`
			document.querySelector('.displayerVisualization .container .bottomright').innerHTML = `<input class="visualizerInputShow" type="text" value="${splitVisualizer[2]}" readonly>`
			document.querySelector('.displayerVisualization .container .bottomleft').innerHTML = `<input class="visualizerInputShow" type="text" value="${splitVisualizer[3]}" readonly>`

			if(matchtype == 'h1v1'){
				$('#scoreReverseField').css('display', 'none')
			}

			if(oldColors != true){
				document.querySelector('.displayerVisualization .container .team1color .content').style.setProperty('background-color', 'rgb(255, 41, 41)')
				document.querySelector('.displayerVisualization .container .team2color .content').style.setProperty('background-color', 'rgb(95, 95, 255)')
			} else {
				document.querySelector('.displayerVisualization .container .team2color .content').style.setProperty('background-color', 'rgb(255, 41, 41)')
				document.querySelector('.displayerVisualization .container .team1color .content').style.setProperty('background-color', 'rgb(95, 95, 255)')
			}

			if(smallVisualizer == true){
				document.querySelector('.displayerVisualization .container').style.setProperty('grid-template-rows', `30px 80px 30px 30px`)
				document.querySelector('.displayerVisualization .container .height').innerHTML = '80px'
				document.querySelector('.visualizer_settings_fields').style.height = '322px'
			}

			if(transparentBackground == true){
				document.querySelector('.displayerVisualization .container .displayer').style.setProperty('background', `none`)
			}

			if(compactUI == true){
				document.querySelector('#match_button .item_text').style.display = 'none'
				document.querySelector('#displayer_settings_button .item_text').style.display = 'none'
				document.querySelector('#app_settings_button .item_text').style.display = 'none'
				document.querySelector('.leftverticalmenu').style.width = '4.22rem'
				document.querySelector('.ui.secondary.vertical.pointing.menu').style.width = 'calc(4.22rem - 14%)'
				document.querySelector('#match_button').style.cssText = 'width: auto; margin: auto;'
				document.querySelector('#displayer_settings_button').style.cssText = 'width: auto; margin: auto;'
				document.querySelector('#changelog_button').style.width = 'auto'
				document.querySelector('#changelog_button .item_text').style.display = 'none'
				document.querySelector('.changelog_content').style.width = "100% - 4.22rem)"
				document.querySelector('.copyright').style.cssText = `
					position: fixed;
					width: calc(100% - 4.22rem);
					text-align: end;
					background-color: #171717;
					padding: 5px;
					height: 23px;
					bottom: 0px;
					z-index: 999;`
				document.querySelector('.changelog_content').style.setProperty('width', 'calc(100% - 59px)');
				document.querySelector('#update_bar').style.width = '15%'
				document.querySelector('#update_button').style.width = 'auto'
				document.querySelector('#update_button .item_text').style.display = 'none'
				document.querySelector('#teams_button').style.cssText = 'width: auto; margin: auto;'
				document.querySelector('#app_settings_button').style.cssText = 'width: auto; margin: auto;'
				document.querySelector('#teams_button .item_text').style.display = 'none'
				document.querySelector('#displayer-settings_tab').style.width = 'calc(100% - 115px) !important'
				document.querySelector('.ui.secondary.vertical.pointing.menu .active.item').style.width = '90% !important'
				document.querySelector('.ui.secondary.vertical.pointing.menu .item').style.cssText = 'margin: auto !important; margin-bottom: 3px !important'
			}

			if(firstRun == true){
				document.querySelector('.firstrun').classList.remove('hidden');
				document.querySelector('#credentialsbtn').addEventListener('click', (e) => {
					console.log('click')
					e.preventDefault();
					let APIKEYclient = document.querySelector('#credAPIKEY');
      				let UserIDclient = document.querySelector('#credUID');
					let data = {
						apikey: APIKEYclient.value,
						userid: UserIDclient.value
					}
					socket.emit('firstrunwrite', data)
					document.querySelector('.firstrun').classList.add('hidden');
					$('.ui.equal.width.form').form('set values', {
						apikey: APIKEYclient.value,
						apikey1: APIKEYclient.value,
						userid: UserIDclient.value,
						userid1: UserIDclient.value
					});
				})
			}

		}

		$("#visualizerstyle").change(function () {
			var val = this.value;
			let valSplit = val.split(' ')
				document.querySelector('.displayerVisualization .container .topleft').innerHTML = `<input class="visualizerInputShow" type="text" value="${valSplit[0]}" readonly>`
				document.querySelector('.displayerVisualization .container .topright').innerHTML = `<input class="visualizerInputShow" type="text" value="${valSplit[1]}" readonly>`
				document.querySelector('.displayerVisualization .container .bottomright').innerHTML = `<input class="visualizerInputShow" type="text" value="${valSplit[2]}" readonly>`
				document.querySelector('.displayerVisualization .container .bottomleft').innerHTML = `<input class="visualizerInputShow" type="text" value="${valSplit[3]}" readonly>`
			socket.emit('visualizerStyleChange', val)
			document.querySelector('.displayerVisualization .container .displayer').style.borderRadius = val
			
			
   		});

		$('#oldColors').click(e => {
			e.preventDefault();
			let status = true;
			if ($('#oldColors input').is(':checked')) {
				status = false;
				document.querySelector('.displayerVisualization .container .team1color .content').style.setProperty('background-color', 'rgb(255, 41, 41)')
				document.querySelector('.displayerVisualization .container .team2color .content').style.setProperty('background-color', 'rgb(95, 95, 255)')
			} else {
				document.querySelector('.displayerVisualization .container .team2color .content').style.setProperty('background-color', 'rgb(255, 41, 41)')
				document.querySelector('.displayerVisualization .container .team1color .content').style.setProperty('background-color', 'rgb(95, 95, 255)')
			}
			socket.emit('oldColorsClick', status)
		})

		$('#smallDisplayer').click(e => {
			e.preventDefault();
			let status = true;
			let height = '80px'

			if ($('#smallDisplayer input').is(':checked')) {
				status = false;
				height = '130px'
				document.querySelector('.visualizer_settings_fields').style.height = '272px'
			} else {
				document.querySelector('.visualizer_settings_fields').style.height = '322px'
			}
			document.querySelector('.displayerVisualization .container').style.setProperty('grid-template-rows', `30px ${height} 30px 30px`)
			document.querySelector('.displayerVisualization .container .height').innerHTML = height
			socket.emit('smallVisualizerClick', status)
		})

		$('#transparentBackground').click(e => {
			e.preventDefault();
			let status = true;
			if ($('#transparentBackground input').is(':checked')) {
				status = false;
				document.querySelector('.displayerVisualization .container .displayer').style.setProperty('background', `repeating-linear-gradient( -45deg, #8181ff57, #8181ff57 3.4px, transparent 2px, transparent 10px )`)
			} else {
				document.querySelector('.displayerVisualization .container .displayer').style.setProperty('background', `none`)
			}
			socket.emit('transparentBackgroundClick', status)
		})		

		$('#compactUI').click(e => {
			e.preventDefault();
			let status = false;
			document.querySelector('#match_button .item_text').style.display = 'block'
			document.querySelector('#displayer_settings_button .item_text').style.display = 'block'
			document.querySelector('#app_settings_button .item_text').style.display = 'block'
			document.querySelector('#app_settings_button').style.cssText = 'width: auto; margin: auto !important;'
			document.querySelector('#changelog_button .item_text').style.display = 'block'
			document.querySelector('.leftverticalmenu').style.width = '14rem'
			document.querySelector('.ui.secondary.vertical.pointing.menu').style.cssText = 'width: 94%; border-right: 0px; margin: auto;'
			document.querySelector('#match_button').style.cssText = 'width: auto !important; margin: 2px !important;'
			document.querySelector('#displayer_settings_button').style.width = 'auto'
			document.querySelector('#changelog_button').style.cssText = 'position: absolute; bottom: 25px; width: 94%; border-right: 0px; margin: auto; fill: rgb(170, 170, 170);'
			document.querySelector('.copyright').style.position = 'absolute'
			document.querySelector('.changelog_content').style.setProperty('width', 'calc(100% - 196px)');
			document.querySelector('#update_bar').style.width = '84%'
			document.querySelector('#update_button').style.cssText = 'position: absolute; bottom: 74px; width: 94%; border-right: 0px; margin: auto; fill: #aaa;'
			document.querySelector('#update_button .item_text').style.display = 'block'
			/* document.querySelector('#teams_button').style.width = 'auto'
			document.querySelector('#teams_button .item_text').style.display = 'block' */
			document.querySelector('.ui.secondary.vertical.pointing.menu .active.item').style.cssText = 'width: auto !important'
			document.querySelector('.ui.secondary.vertical.pointing.menu .item').style.cssText = 'margin: auto'
			if ($('#compactUI input').is(':checked')) {
				status = true;
				document.querySelector('#match_button .item_text').style.display = 'none'
				document.querySelector('#displayer_settings_button .item_text').style.display = 'none'
				document.querySelector('#app_settings_button .item_text').style.display = 'none'
				document.querySelector('#app_settings_button').style.cssText = 'width: auto; margin: auto !important;'
				document.querySelector('#changelog_button .item_text').style.display = 'none'
				document.querySelector('.leftverticalmenu').style.width = '4.22rem'
				document.querySelector('.ui.secondary.vertical.pointing.menu').style.width = 'calc(4.22rem - 14%)'
				document.querySelector('#match_button').style.cssText = 'width: auto !important; margin: 2px !important;'
				document.querySelector('#displayer_settings_button').style.width = 'auto'
				document.querySelector('#changelog_button').style.width = 'auto'
				document.querySelector('.copyright').style.position = 'fixed'
				document.querySelector('.changelog_content').style.setProperty('width', 'calc(100% - 59px)');
				document.querySelector('#update_bar').style.width = '15%'
				document.querySelector('#update_button').style.width = 'auto'
				document.querySelector('#update_button .item_text').style.display = 'none'
				/* document.querySelector('#teams_button').style.width = 'auto'
				document.querySelector('#teams_button .item_text').style.display = 'none' */
				document.querySelector('.ui.secondary.vertical.pointing.menu .item').style.cssText = 'margin: 0px'
			}
			socket.emit('compactUIclick', status)
		})

		$('#systemTray').click(e => {
			e.preventDefault();
			let status = false;
			if ($('#systemTray input').is(':checked')) {
				status = true;
			}
			socket.emit('systemTrayclick', status)
		})



		// save settings
		$('#save').click(e => {
			e.preventDefault();
			$('.ui.equal.width.form').form({
				fields: {
					apikey: 'empty',
					/* apikey1: 'empty', */
					userid: 'empty',
					/* userid1: 'empty', */
					matchid: 'empty',
					matchtype: 'empty',
					stage: 'empty',
					mapsNumber: 'empty',
					bestof: 'empty',
					warmups: 'empty',
					reverse: 'empty'
				}
			});
			
			$('.ui.equal.width.form').form('submit');

				
				var $form = $('.ui.equal.width.form');
				var allFields = $form.form('get values');

				var oldColorsEdit = '';
				var smallDEdit = '';
				var transpBackEdit = '';
				var uiEdit = '';
				var trayEdit = '';

				if(allFields.compactUI == 'on') {uiEdit = true } else { uiEdit = false}
				if(allFields.systemTray == 'on') { trayEdit = true } else { trayEdit = false }
				if(allFields.oldColors == 'on') {oldColorsEdit = true } else { oldColorsEdit = false}
				if(allFields.smallDisplayer == 'on') { smallDEdit = true } else { smallDEdit = false }
				if(allFields.transparentBackground == 'on') { transpBackEdit = true } else { transpBackEdit = false }

				/* if(allFields.apikey == allFields.apikey1 && allFields.userid == allFields.userid1){ */
					const data = {
						apikey: allFields.apikey,
						matchid: allFields.matchid,
						stage: allFields.stage,
						nofmaps: allFields.mapsNumber,
						warmups: allFields.warmups,
						bestof: allFields.bestof,
						matchtype: allFields.matchtype,
						userid: allFields.userid,
						reverse: allFields.reverse,
						visualizerstyle: allFields.visualizerstyle,
						oldColors: oldColorsEdit,
						smallVisualizer: smallDEdit,
						transparentBackground: transpBackEdit,
						compactUI: uiEdit,
						systemTray: trayEdit,
						firstRun: false
					}

					socket.emit('save', data)
					$('#saveMessage').css('display', 'block')
					setTimeout(() => {
						$('#saveMessage').css('display', 'none')
					}, 2000)

				/* } */

			

		})

		// load settings button
		$('#loadold').click(e => {
			e.preventDefault();
			loadConfig()
		})


		// same value for the two tabs
		/* $('#apikey').change(e => {
			let value = $('#apikey').val();
			$('#apikey1').val(value);
		})
		$('#userid').change(e => {
			let value = $('#userid').val();
			$('#userid1').val(value);
		})
		$('#apikey1').change(e => {
			let value = $('#apikey1').val();
			$('#apikey').val(value);
		})
		$('#userid1').change(e => {
			let value = $('#userid1').val();
			$('#userid').val(value);
		}) */

		//console.clear()
		loadConfig()
	</script>

	<!-- HeaderBar -->
	<script>
		var socket = io();

		document.querySelector('#changelog_button').addEventListener('click', (e) => {
			e.preventDefault()
			document.querySelector('.buttonField').style.display = 'none'
			if(document.querySelector('.changelog_content').innerHTML == ''){
				socket.emit('changelog_load')
				setTimeout(async () => {
					let res = await fetch('/changelog')
					res = await res.json()
					document.querySelector('#changelog_load_sign').classList.add('hidden')
					document.querySelector('.changelog_content').innerHTML = res.changelog
					var els = document.getElementsByTagName('a');
					for (var i=0, len = els.length; i<len; i++)
						els[i].setAttribute('target', '_blank');
				}, 500)
			}
		})

		$('.headerappbar').bind('contextmenu', function(e) {
			return false;
		}); 


		var minimizebutton = document.querySelector('#minimizebutton');
		minimizebutton.addEventListener('click', (e) => {
			e.preventDefault()
			socket.emit('minimizeapp')
		})

		var maximizebutton = document.querySelector('#maximizebutton');
		maximizebutton.addEventListener('click', (e) => {
			e.preventDefault()
			socket.emit('maximizeapp')
		})

		var closeappbutton = document.querySelector('#closewinbutton');
		closeappbutton.addEventListener('click', (e) => {
			e.preventDefault()
			socket.emit('closewinbutton')
		})
	</script>

	<script src="/frontend/assets/teamslist.js"></script>

	<!-- Team List -->
	<!-- <script>
		
		function readFile(file){
			if(file.length != 0){
				socket.emit('addteam_readfile', file[0].path)
			}
			
		}

		function openTeamsFolder(){
			socket.emit('open_team_folder')
		}

		function changeTeamName(value, file, team){
			let playerNotEditList = document.getElementById(`team_players_${team}`)
			let meta = playerNotEditList.parentElement;
			let card = meta.parentElement
			let cardContent = card.children[1];
			let title = cardContent.firstElementChild
			title.innerHTML = value;
			let data = { name: value, file: file}
			socket.emit('edit_teamname', data)
			
			$('#teams_button').trigger('click');
			let listEdit = meta.children[1];
			let form = listEdit.children[0];
			let listEditTeam = form.children[0];
			let listEditTeamName = listEditTeam.children[0];
			let	teamnamediv = listEditTeamName.children[0];
			let teamnamedivfield = teamnamediv.children[0];
			let teamnameinput = teamnamedivfield.children[0];
			teamnameinput.setAttribute('onchange', `changeTeamName(this.value, '${value}.json', '${team}')`)
			location.reload()
		}

		function exportTeam(clickedID){
			socket.emit('export_team', clickedID)
		}

		function editTeam(clickedID){
				document.getElementById(`team_players_edit_${clickedID}`).style.display = "block";
				document.getElementsByName(`bt_${clickedID}`)[0].style.display = "none"
		}

		function closeTeam(clickedID){
				document.getElementById(`team_players_edit_${clickedID}`).style.display = "none";
				document.getElementsByName(`bt_${clickedID}`)[0].style.display = "flex"
		}

		function addPlayer(clickedID, counter, file){
			var count = $(`#listeditteam_players_${clickedID} .item`).length;
			console.log($(`#listeditteam_players_${clickedID} .item`))
			if(count <= 8) {
				let playerlistedit = document.getElementById(`listeditteam_players_${clickedID}`)
				$(`<div class="item" id="${count}-player">
					<div style="height: 45px; margin-right: 0px;" data-tooltip="" data-inverted="" data-position="top center" data-variation="mini"><img src="http://s.ppy.sh/a/"></div>
					<div class="field">
						<input type="text" id="${count}" name="${count}_player" placeholder="userid" onchange="saveTeam(this.value, this.id, '${file}', '${clickedID}')">
						<div id="remove_${count}" onclick="removePlayer(this.id, '${file}', '${clickedID}', '${counter}')" class="ui bottom attached button buttonremplayer">
							<svg xmlns="http://www.w3.org/2000/svg" style="transform: scale(0.45); position: relative; top: -10.2px;" width="24" height="24" viewBox="0 0 24 24"><path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/></svg>
						</div>
					</div>
				</div>`).appendTo(playerlistedit)
			}
		}

		function removePlayer(clickedID, file, team, pos){
				let removefield = document.getElementById(clickedID).parentElement;
				let removeItem = removefield.parentElement;
				let playerNotEditList = document.getElementById(`team_players_${team}`).firstElementChild;
				let currentPlayer = playerNotEditList.children[pos-1]
				removeItem.remove();
				currentPlayer.remove();
				let data = { position: pos, file: file}
				socket.emit('remove_player', data)
		}

		function saveTeam(value, id, file, team){
			let input = document.getElementById(id).parentElement;
			let itemInput = input.parentElement;
			let tooltip = itemInput.firstElementChild;
			let imgPlayer = tooltip.firstElementChild;
			let playerNotEditList = document.getElementById(`team_players_${team}`).firstElementChild;
			let currentPlayer = playerNotEditList.children[id-1]
			/* console.log(value + " " + id)
			console.log(itemInput)
			 */
			fetch('/settings')
			.then((res) => res.json())
			.then((dataS) => {
				fetch(`https://osu.ppy.sh/api/get_user?k=${dataS.apikey}&u=${value}`)
				.then((res) => res.json())
				.then((osuPlayer) => {

					if(playerNotEditList.className == 'team_player_list_noplayers'){
						playerNotEditList.parentElement.innerHTML = '<div class="list"></div>'
						playerNotEditList = document.getElementById(`team_players_${team}`).firstElementChild
					}

					let data = { playerid: value, playername: osuPlayer[0].username, position: id, file: file, team: team}
					if(id <= playerNotEditList.childElementCount && playerNotEditList.childElementCount != 0){
						currentPlayer.src = `http://s.ppy.sh/a/${value}`
					} else {
						playerNotEditList.innerHTML += `<div style="width: 35px; height: 35px; margin-right: 0px;" data-tooltip="${osuPlayer[0].username}" data-inverted="" data-position="bottom center"><img src="http://s.ppy.sh/a/${value}" id="img_player"></div>`
					}
					imgPlayer.src = `http://s.ppy.sh/a/${value}`
					input.children[0].classList.remove('errPlayer')
					socket.emit('save_team', data)
				}).catch((err) => {
					input.children[0].classList.add('errPlayer')
					console.log(err)
				})
			})
				
		}
		
		/* document.querySelector('#teams_button').addEventListener('click', (e) => {

			 fetch('/teams')
			.then((res) => res.json())
			.then((data) => {

				console.log(data)


				const { images, settings } = data

				let teamslist = document.querySelector('#teamslist')
				teamslist.innerHTML = `
					<div class="card newcard">
						<div class="addteam" onclick="document.getElementById('addteam-input').click();">
							<input id="addteam-input" type="file" style="display: none;" onchange="readFile(this.files)"/>
							<div class="content">
								<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>
								<br>
								Add Team
							</div>
						</div> 
						<div class="openfolder" id="openfolderteams" onclick="openTeamsFolder()">
							<div class="content">
								<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path d="M22 22h-20l-2-13h24l-2 13zm.406-15l.594-3h-13c-1.979 0-2.041-.417-3.306-2h-5.694l.605 5h20.801z"/></svg>
								<br>
								Open Teams<br>Folder
							</div>
						</div>
					</div>
				`

				images.forEach((image) => {
					let teamname = image.replace(/\.[^/.]+$/, "")
					let teamnameEncoded = encodeURIComponent(image.replace(/\.[^/.]+$/, "")).trim();
					console.log(teamname)

					let team_player_list = `<span class="team_player_list_noplayers" id="${teamname}">No players</span>`;

					

					if(settings.includes(teamname)){
						fetch(`/teams/${settings[settings.indexOf(teamnameEncoded)]}`)
						.then((res) => res.json())
						.then((dataTeam) => {
							const { img, file, team_name, players } = dataTeam
							teamname = team_name.split(' ').join('_')
							let playersText = ""
							let editList = `<div class="item team">
										<div class="field">
											<input type="text" name="teamname" id="teamname_input" placeholder="Team Name" value="${team_name}" onchange="changeTeamName(this.value, '${file}', '${teamname}')">
										</div>
									</div>`
							let counter = 1;
							players.forEach((player) => {
								playersText += `<div style="width: 35px; height: 35px; margin-right: 0px;" data-tooltip="${player.name}" data-inverted="" data-position="bottom center"><img src="http://s.ppy.sh/a/${player.id}" id="img_player"></div>`
								
								editList += `
									<div class="item" id="item_${player.id}">
										<div style="height: 45px; margin-right: 0px;" data-tooltip="${player.name}" data-inverted="" data-position="top center" data-variation="mini"><img src="http://s.ppy.sh/a/${player.id}"></div>
										<div class="field">
											<input type="text" id="${counter}" name="${counter}_player" placeholder="userid" value="${player.id}" onchange="saveTeam(this.value, this.id, '${file}', '${team_name}')">
											<div id="remove_${player.id}" onclick="removePlayer(this.id, '${file}', '${teamname}', '${counter}')" class="ui bottom attached button buttonremplayer">
												<svg xmlns="http://www.w3.org/2000/svg" style="transform: scale(0.45); position: relative; top: -10.2px;" width="24" height="24" viewBox="0 0 24 24"><path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/></svg>
											</div>
										</div>
									</div>`
								counter++;
							})
							if(players.length !== 0){
								team_player_list = `<div class="list">${playersText}</div>`
							}
							teamslist.insertAdjacentHTML('afterbegin', `
								<div class="card">
									<div class="image">
										<img src="/teamsimg/${image}">
									</div>
									<div class="content">
										<div class="header">${team_name}</div>
									</div>
									<div class="meta">
										<div class="team_player_list" id="team_players_${teamname}">
											${team_player_list}
										</div>
										<div class="team_player_list_edit" id="team_players_edit_${teamname}">
											<form class="ui form" id="form_${teamname}">
												<div id="players_list_edit_${teamname}" class="list listeditteam">
													<div id="listeditteam_players_${teamname}" class="listeditteam_players">
														${editList}
													</div>
													<div class="list_buttons">
														<div id="${teamname}" onclick="addPlayer(this.id, ${counter}, '${file}')" class="ui bottom attached button buttoneditlist add">
														Add
														</div>
														<div id="${teamname}" onclick="closeTeam(this.id)" class="ui bottom attached button buttoneditlist cancel">
															Close
														</div>
													</div>
												</div>
											</form>
										</div>
									</div>
									<div class="ui two bottom attached buttons" name="bt_${teamname}">
										<div id="${teamname}" name="e_${teamname}" onclick="exportTeam(this.id)" class="ui bottom attached button" data-tooltip="Export" data-inverted="" data-position="bottom center" data-variation="mini">
											<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg>
										</div>
										<div id="${teamname}" name="b_${teamname}" onclick="editTeam(this.id)" class="ui bottom attached button" data-tooltip="Edit" data-inverted="" data-position="bottom center" data-variation="mini">
											<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M18 14.45v6.55h-16v-12h6.743l1.978-2h-10.721v16h20v-10.573l-2 2.023zm1.473-10.615l1.707 1.707-9.281 9.378-2.23.472.512-2.169 9.292-9.388zm-.008-2.835l-11.104 11.216-1.361 5.784 5.898-1.248 11.103-11.218-4.536-4.534z"/></svg>
										</div>
									</div>
								</div>
							`)
						})
					} else {
						teamname = teamname.split(' ').join('_')
						let counter = 1;
						let editList = `<div class="item team">
										<div class="field">
											<input type="text" name="teamname" id="teamname_input" placeholder="Team Name" value="${teamname}" onchange="changeTeamName(this.value, '${teamname}.json', '${teamname}')">
										</div>
									</div>`
						teamslist.insertAdjacentHTML('afterbegin', `
						<div class="card">
							<div class="blurring dimmable image">
								<div class="ui dimmer">
								<div class="content">
									<div class="center">
									<button id="${teamname}" onclick="editTeam(this.id)" class="ui inverted button">Edit</button>
									</div>
								</div>
								</div>
								<img src="/teamsimg/${image}">
							</div>
							<div class="content">
								<div class="header">${teamname}</div>
							</div>
							<div class="meta">
								<div class="team_player_list" id="team_players_${teamname}">
									${team_player_list}
								</div>
								<div class="team_player_list_edit" id="team_players_edit_${teamname}">
									<form class="ui form" id="form_${teamname}">
										<div id="players_list_edit_${teamname}" class="list listeditteam">
											<div id="listeditteam_players_${teamname}" class="listeditteam_players">
												${editList}
											</div>
											<div class="list_buttons">
												<div id="${teamname}" onclick="addPlayer(this.id, ${counter}, '${teamname}.json')" class="ui bottom attached button buttoneditlist add">
													Add
												</div>
												<div id="${teamname}" onclick="closeTeam(this.id)" class="ui bottom attached button buttoneditlist cancel">
													Close
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="ui two bottom attached buttons" name="bt_${teamname}">
								<div id="${teamname}" name="e_${teamname}" onclick="exportTeam(this.id)" class="ui bottom attached button">
									<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg>
								</div>
								<div id="${teamname}" name="b_${teamname}" onclick="editTeam(this.id)" class="ui bottom attached button">
									<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M18 14.45v6.55h-16v-12h6.743l1.978-2h-10.721v16h20v-10.573l-2 2.023zm1.473-10.615l1.707 1.707-9.281 9.378-2.23.472.512-2.169 9.292-9.388zm-.008-2.835l-11.104 11.216-1.361 5.784 5.898-1.248 11.103-11.218-4.536-4.534z"/></svg>
								</div>
							</div>
						</div>
					`);
					}



				})
			}) 
		})
		 */

	</script> -->

</html>
